# 荨麻疹活动度评分记录系统（UAS7）

一个基于 Vue 3 + Vant 的移动端 H5 应用，用于记录和管理荨麻疹患者的每日病情活动度评分。

## 功能特性

### 📝 每日评分记录

- 选择日期进行评分（支持历史日期）
- 记录风团数量评分（0-3分）
- 记录瘙痒程度评分（0-3分）
- 自动计算每日总分（0-6分）
- 添加备注信息
- 支持修改和删除记录

### 📊 历史记录查看

- 查看所有历史评分记录
- 按时间筛选（本周/本月/全部）
- 显示统计概览（记录天数、平均分、最高分、最低分）
- 支持编辑和删除操作（左滑删除）

### 📈 数据可视化分析

- **总分趋势图**：展示每日总分的变化趋势
- **对比分析图**：对比风团数量和瘙痒程度的变化
- **周期统计图**：UAS7 七天周期评分柱状图
- **分布占比图**：病情严重程度分布饼图
- 支持多种时间范围查看（7天/14天/30天/全部）

### ⚙️ 数据管理

- 导出为 JSON 格式（用于备份）
- 导出为 CSV 格式（可在 Excel 中打开）
- 从备份文件导入数据
- 清空所有数据
- 查看数据统计信息

### 📱 移动端优化

- 响应式设计，适配各种屏幕尺寸
- 底部导航栏，便捷切换功能
- 流畅的触摸交互
- 支持横竖屏切换
- PWA 支持（可添加到主屏幕）

## 技术栈

- **框架**: Vue 3 (Composition API)
- **UI 组件库**: Vant 4
- **图表库**: ECharts 6
- **状态管理**: Pinia
- **路由**: Vue Router
- **日期处理**: Day.js
- **构建工具**: Vite

## 项目结构

```
src/
├── assets/           # 静态资源
│   ├── base.css
│   └── main.css
├── components/       # 组件
├── router/           # 路由配置
│   └── index.js
├── stores/           # 状态管理
│   └── record.js     # 记录管理 Store
├── utils/            # 工具函数
│   ├── storage.js    # 本地存储操作
│   └── date.js       # 日期处理
├── views/            # 页面组件
│   ├── RecordView.vue   # 记录页面
│   ├── HistoryView.vue  # 历史记录页面
│   ├── ChartView.vue    # 统计图表页面
│   └── SettingView.vue  # 设置页面
├── App.vue
└── main.js
```

## 快速开始

### 安装依赖

```bash
yarn install
# 或
npm install
```

### 开发模式

```bash
yarn dev
# 或
npm run dev
```

应用将在 http://localhost:3001 运行

### 生产构建

```bash
yarn build
# 或
npm run build
```

### 预览生产构建

```bash
yarn preview
# 或
npm run preview
```

## 评分标准说明

### 风团数量评分

- **0分**: 无风团
- **1分**: 轻度 - 少于20个风团/24小时
- **2分**: 中度 - 20-50个风团/24小时
- **3分**: 重度 - 大于50个风团/24小时或大片融合区域

### 瘙痒程度评分

- **0分**: 无瘙痒
- **1分**: 轻度 - 存在，但不引起烦躁或麻烦
- **2分**: 中度 - 有麻烦，但不影响日常生活及睡眠
- **3分**: 重度 - 有瘙痒感但不影响睡眠，明显影响日常生活

### UAS7 评分

- UAS7 = 连续7天的每日评分总和
- 每日评分 = 风团数量评分 + 瘙痒程度评分（0-6分）
- UAS7 总分范围：0-42分
- **UAS7 < 7分**: 病情控制良好
- **UAS7 7-15分**: 轻度活动
- **UAS7 16-27分**: 中度活动
- **UAS7 > 27分**: 重度活动

## 使用说明

### 1. 记录页面

1. 选择需要记录的日期（默认为今天）
2. 点击对应的评分按钮选择风团数量和瘙痒程度
3. 可添加备注记录特殊情况
4. 点击保存按钮完成记录

### 2. 历史记录页面

1. 查看所有历史记录
2. 使用顶部标签切换筛选范围
3. 点击记录可以编辑
4. 左滑记录可以删除

### 3. 统计图表页面

1. 使用顶部标签切换时间范围
2. 切换不同的图表类型查看数据
3. 查看 UAS7 周期评分统计

### 4. 设置页面

1. 查看评分标准说明
2. 导出数据进行备份
3. 导入备份数据
4. 查看使用说明

## 数据存储

所有数据使用浏览器的 `localStorage` 进行本地持久化存储，数据不会上传到服务器，完全保护用户隐私。

**注意**:

- 清除浏览器数据会导致记录丢失，请定期导出备份
- 更换设备或浏览器需要手动导入数据

## 浏览器兼容性

- Chrome (推荐)
- Safari
- Edge
- Firefox
- 微信内置浏览器
- 其他现代移动浏览器

建议使用最新版本的浏览器以获得最佳体验。

## 开发说明

### 代码规范

项目使用 ESLint + Prettier 进行代码规范检查和格式化。

```bash
# 代码检查和自动修复
yarn lint

# 代码格式化
yarn format
```

### 添加新功能

1. 在 `src/stores/record.js` 中添加状态管理逻辑
2. 在 `src/utils/` 中添加工具函数
3. 在 `src/views/` 中创建或修改页面组件
4. 在 `src/router/index.js` 中配置路由（如需要）

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

---

**注意**: 本应用仅用于记录和跟踪荨麻疹活动度评分，不能替代专业医疗诊断和治疗建议。如有疑问，请咨询专业医生。
